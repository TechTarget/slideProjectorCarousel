/*!
 * Slide Projector Carousel v0.1 (http://okize.github.com/)
 * Copyright (c) 2012 | Licensed under the MIT license - http://www.opensource.org/licenses/mit-license.php
 */(function(e,t,n){"use strict";function s(t,n){this.element=t,this.options=e.extend({},i,n),this._defaults=i,this._name=r,this.init()}var r="slideProjectorCarousel",i={autoplay:!0,autoplaySpeed:5e3,slidesToShow:3,slidesToMove:3};s.prototype.init=function(){var n=this.options,r=e(this.element),i=r.find(".projection"),s=i.find("li"),o=r.find(".slides"),u=o.find("ul"),a=u.find("li"),f=0,l=a.length,c=-1,h=0,p=r.data("autoplay"),d={},v=function(){d.btnPrevious=e("<a>",{"class":"slideControls previous disabled",href:"#",title:"Previous",text:"Previous"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||o.trigger("slides.move","previous")}),d.btnNext=e("<a>",{"class":"slideControls next",href:"#",title:"Next",text:"Next"}).on("click",function(t){t.preventDefault(),e(this).hasClass("disabled")||o.trigger("slides.move","next")}),o.addClass("hasControls").append(d.btnPrevious,d.btnNext),f=a.outerWidth()},m=function(e,t){t==="previous"&&(d.btnPrevious.addClass("disabled"),d.btnNext.removeClass("disabled"),u.css("left",0)),t==="next"&&(d.btnPrevious.removeClass("disabled"),d.btnNext.addClass("disabled"),u.css("left",-(f*n.slidesToMove)))};typeof p!="undefined"&&(p>0?(n.autoplay=!0,n.autoplaySpeed=p):(n.autoplay=!1,n.autoplaySpeed=0));var g={start:function(){this.timer=setTimeout(e.proxy(this.getNextSlide,this),n.autoplaySpeed)},getNextSlide:function(){h=h===l-1?0:h+1,a.eq(h).trigger("click")},stop:function(){clearTimeout(this.timer)}};a.on("click",function(t){t.preventDefault(),n.autoplay&&g.stop(),a.removeClass("active");var r=e(this);r.addClass("active");var i=r.index();c=i,h=i,s.css("z-index",0),s.eq(i).css({"z-index":1,top:0}),n.autoplay&&g.start()}),s.on("click",function(n){n.preventDefault();var r=e(this).find("a"),i=r.attr("target")?"_blank":"_self";t.open(r.attr("href"),i)}),l>n.slidesToShow&&v(),n.autoplay&&g.start(),o.on("slides.move",m)},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})}})(jQuery,window);